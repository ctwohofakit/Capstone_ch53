{% extends "base.html" %}

{% block title %}Interview: {{ interview.wanted_role }} at {{ interview.company_name }}{% endblock title %}

{% block content %}
  <h1>Interview for {{ interview.wanted_role }} @ {{ interview.company_name }}</h1>
  <p><strong>Type:</strong> {{ interview.question_type }}</p>
  <p><strong>Tech:</strong> {{ interview.technology }}</p>
  <p><small>Started on {{ interview.created_by|date:"F j, Y, g:i a" }}</small></p>

  <hr>

  <h2>Conversation</h2>
  <div class="chat-history">
    {% for msg in messages %}
      {% if msg.role == 'assistant' %}
        <p><strong>Interviewer:</strong> {{ msg.content }}</p>
      {% elif msg.role == 'user' %}
        <p><strong>{You:}</strong> {{ msg.content }}</p>
      {% endif %}
    {% empty %}
      <p><em>No conversation has been recorded.</em></p>
    {% endfor %}
  </div>



  <div class="actions">
    <a href="{% url 'mock_interview' %}">
      <button class="edit-btn">Re-take Interview</button>
    </a>
    <a href="{% url 'interview_delete' interview.pk %}">
      <button class="del-btn">Delete Interview</button>
    </a>
  </div>
{% endblock content %}
